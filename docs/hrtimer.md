# hrtimer-modifier eBPF 工具

## 功能描述

本工具通过 eBPF 技术动态修改 `hrtimer_nanosleep` 系统调用的时间参数，支持以下核心功能：

1. **绝对时间修改** - 强制将休眠时间设为指定值
2. **相对时间调整** - 在原有时间基础上增加/减少指定时间
3. **进程级过滤** - 可指定单个 PID 或 cgroup 中的进程
4. **时间单位控制** - 支持秒/毫秒两种时间单位

## 参数说明

| 选项 | 缩写 | 参数示例 | 描述 |
|------|------|----------|-----|
| `--relative` | `-r` | 无 | 启用相对时间模式（在原始时间上增减） |
| `--milliseconds` | `-m` | 无 | 时间参数单位为毫秒（默认单位：秒） |
| `--pid` | `-p` | 185 | 仅修改指定 PID 的进程 |
| `--cgroup` | `-c` | /sys/fs/cgroup/test | 仅修改指定 cgroup 的进程 |
| `--verbose` | `-v` | 无 | 显示详细调试信息 |
| `--help` | `-h` | 无 | 显示完整帮助文档 |

## 使用示例

```bash
# 所有进程使用绝对时间 1 秒
sudo ./hrtimer 1

# 所有进程使用绝对时间 500 毫秒
sudo ./hrtimer -m 500
```
